<!DOCTYPE html>
<html>
<head>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body onload="load()">
<h2>Dashboard</h2>
<canvas id="c"></canvas>

<script src="config.js"></script>
<script>
requireLogin();

function load(){
  const s=document.createElement("script");
  s.src=GAS_API+"?action=dashboard&callback=cb";
  document.body.appendChild(s);
}
function cb(data){
  new Chart(c,{
    type:"pie",
    data:{
      labels:Object.keys(data),
      datasets:[{
        data:Object.values(data)
      }]
    }
  });
}
</script>
</body>
</html>
<link rel="manifest" href="manifest.json">
<script>
if("serviceWorker" in navigator){
  navigator.serviceWorker.register("service-worker.js");
}
</script>
