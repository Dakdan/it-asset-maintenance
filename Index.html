<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>IT Job Center</title>
<style>
body {
  font-family: sans-serif;
  background: linear-gradient(135deg,#ff9a9e,#fff);
}
.card {
  background:#fff;
  margin:10px;
  padding:15px;
  border-radius:12px;
}
button {
  background:#ff5fa2;
  color:#fff;
  border:none;
  padding:8px 12px;
  border-radius:8px;
}
</style>
</head>
<body>

<h2>ðŸ”§ IT à¸‡à¸²à¸™à¸‹à¹ˆà¸­à¸¡</h2>
<div id="jobs"></div>

<script>
const API = "https://script.google.com/macros/s/AKfycbzNSgpYNigJX7W-RUPq8SLN4e687pE55p72KsbM-nWFcPefKDhjzYAflsm78i42IW7qrw/exec";

fetch(API,{
  method:"POST",
  body:JSON.stringify({action:"LIST_JOB"})
})
.then(r=>r.json())
.then(d=>{
  document.getElementById("jobs").innerHTML = d.map(j=>`
    <div class="card">
      <b>${j.JobID}</b><br>
      à¸ªà¸–à¸²à¸™à¸°: ${j.Status}<br>
      <button onclick="update('${j.JobID}','IN_PROGRESS')">à¸£à¸±à¸šà¸‡à¸²à¸™</button>
      <button onclick="update('${j.JobID}','CLOSED')">à¸›à¸´à¸”à¸‡à¸²à¸™</button>
    </div>
  `).join("");
});

function update(id,status){
  fetch(API,{
    method:"POST",
    body:JSON.stringify({
      action:"UPDATE_STATUS",
      jobId:id,
      status:status,
      owner:"IT"
    })
  }).then(()=>location.reload());
}
</script>

</body>
</html>
